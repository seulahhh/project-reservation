# 과제 설명  

## erd 파일은 최상위 폴더 erd.png로 함께 업로드 하였습니다.  

- REST API를 구현하고 싶어서 인증, 회원에 대한 도메인과 예약, 상점, 리뷰에 대한 도메인에 대해 모듈을 분리하였습니다.
 인증, 회원 - :8081 / 예약, 상점 리뷰 / :8082 에 동시에 스프링부트서버로 실행하며 8082가 예약시스템 백앤드 서버라고 생각하고, WebClient를 사용하여 통신하는 구조로 제작했습니다!
- 인증은 :8081포트에서 로그인을 통해 하고, :8082로 api 를 호출할때는 jwt 토큰을 이용하여 검증 후 응답할 수 있게 하였습니다.  jwtProvider를 이용하여 토큰을 생성합니다. :8081에서 인증을 끝낸 사용자에 한해 redis 서버에 'jwtsecretkey'로 미리 저장해둔 시크릿키를 이용하여 jwttoken을 생성하고 그대로 레디스 서버에 저장합니다.
- 이 후 8082에서 요청을 받을 시, Filter로 먼저 redis 서버에 접근하여 해당 사용자에 대한 jwt token 검색 및 검증 후 Controller로 요청이 닿을 수 있게 하였습니다. 

- 매장 이용자는 customer, 매장 관리자는 manager, 키오스크에서 도착확인을 체크하는 부분은 각각 url 진입 경로를 다르게 하여 동일한 인증정보로 서비스를 이용하는게 아니라 각 다른 서비스라고 생각하며 진행했습니다.
  - customer: /customer/..
  - manager: /manager/..
  - kiosk: /kiosk/..

- nginx 설정에 대해서는, 초기 API서버를 2개로 두었으나, 복잡도가 과하게 증가 하는 것 같아 간소화 하는 과정에서 사용하지 않기로 결정하였습니다.

감사합니다!
